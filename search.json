[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Research Workshop Attendance, Marketing, and Satisfaction",
    "section": "",
    "text": "Executive Summary",
    "crumbs": [
      "Executive Summary"
    ]
  },
  {
    "objectID": "descriptive_numbers.html",
    "href": "descriptive_numbers.html",
    "title": "1  Offerings",
    "section": "",
    "text": "1.1 Workshop topics offered\nThe number of distinct topics has declined since 2022, likely due to loss of digital scholarship specialist expertise.\nWhile we offer many scheduled workshops each semester (upper left panel, “Not requested/Regularly scheduled”), we continue to increase our course-based “workshops on request” visits (lower right panel) as well as a low but steady number of out-of-class requested workshops (upper right panel).\nWe have increased the number of topics we’ve brought “on request” to groups and courses.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Offerings</span>"
    ]
  },
  {
    "objectID": "descriptive_numbers.html#workshop-staffing-needs",
    "href": "descriptive_numbers.html#workshop-staffing-needs",
    "title": "1  Offerings",
    "section": "1.2 Workshop staffing needs",
    "text": "1.2 Workshop staffing needs",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Offerings</span>"
    ]
  },
  {
    "objectID": "marketing.html",
    "href": "marketing.html",
    "title": "2  Marketing",
    "section": "",
    "text": "2.1 Executive summary\nOur overall most effective marketing methods are emails, the OU Libraries website, word-of-mouth, and outreach to instructors.\nThis determination is made by combining what methods bring in high attendee counts (1) and what methods bring the highest ratio of attendance to registration (2).",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "marketing.html#executive-summary",
    "href": "marketing.html#executive-summary",
    "title": "2  Marketing",
    "section": "",
    "text": "The top three marketing methods that bring in the highest counts of attendees who fill out our post-workshop surveys (hereafter, “attendees” and “attendance”) are emails, word-of-mouth, and the OU Libraries website\nThe marketing methods with the highest response “intensities” (relative proportion of attendees) were class requirements (making liaison outreach to instructors critical), librarians emailing a departmental listserv directly (we have these permissions for at least two STEM departments to my knowledge), and the OU Libraries website.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "marketing.html#absolute-effectiveness-counts-of-attendees-by-marketing-method",
    "href": "marketing.html#absolute-effectiveness-counts-of-attendees-by-marketing-method",
    "title": "2  Marketing",
    "section": "2.2 Absolute effectiveness (counts of attendees) by marketing method",
    "text": "2.2 Absolute effectiveness (counts of attendees) by marketing method\n\n2.2.1 Overall counts of attendees by marketing method and registration status\nThese data for people who filled out a post-workshop survey (ie are confirmed to have attended a workshop) and answer the question “How did you hear about this workshop?”. They are grouped by pre-registered or not pre-registered (passerby walk-ins, class workshops where registration wasn’t required). We do not get 100% completion of surveys.\n\n\n\n\n\n\n\n\n\n\n\n\n2.2.2 Marketing methods for selection “Other (please describe)” with at least two words\nThese words suggest that professors, librarians, and previous workshops were included in methods that reached these attendees. Later data cleaning to incorporate emails/professors/word-of-mouth into the existing categories could be useful.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "marketing.html#marketing-sources-for-people-who-registered-for-workshops-attendance-yet-unknown",
    "href": "marketing.html#marketing-sources-for-people-who-registered-for-workshops-attendance-yet-unknown",
    "title": "2  Marketing",
    "section": "2.3 Marketing sources for people who registered for workshops (attendance yet unknown)",
    "text": "2.3 Marketing sources for people who registered for workshops (attendance yet unknown)\nThese data are from people who filled out the pre-registration form to attend a workshop. When they filled out this form, we do not know if they will go on to actually attend the workshop. Most of the people in the previous section will have registered, so there is overlap between the datasets, but the post-workshop surveys are anonymous so we cannot connect them directly. The next section shows a broad-level view of the relative effectiveness of methods for people who register vs people who follow through and attend.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "marketing.html#relative-effectiveness-in-marketing-methods",
    "href": "marketing.html#relative-effectiveness-in-marketing-methods",
    "title": "2  Marketing",
    "section": "2.4 Relative effectiveness in marketing methods",
    "text": "2.4 Relative effectiveness in marketing methods\nWe do not get 100% survey responses at our workshops. However, I wanted to see to see if some marketing methods are proportionately more effective in getting pre-registrants to actually show up at the workshop. The differences are overall statistically significantly different (Chi-squared = 71.5, df =- 20, p &lt; 0.0001).\nBelow is a chart that represents this visually as a ratio of attendance to pre-registrant counts. The vertical beige bar shows approximately where about the same proportion (i.e., 0.5 out of 1, or 50/100) of people who pre-registered (red) ended up actually attending and filling out a survey (black).\n\n\n\n\n\n\n\n\n\nA completely red bar indicates that none of the people who completed the pre-registration survey later completed a post-workshop survey. It is possible some of those attendees showed up but did not complete the offered post-workshop survey. People who pre-registered and heard about the workshop via Twitter, Facebook, Other Social Media Not Specified, Announcement in Class by Librarian, and paper fliers have this result, suggesting those media may not be resulting in attendees or not resulting in attendees willing to provide feedback.\nA completely black bar indicates that pre-registration did not occur but people attended anyways (you see these attendees as the red caps to the black bars in the previous section). This occurred more with people who attended a workshop given in a class (“Class Requirement”; that category suggests either we visited the class, which does not involve LibCal registration, or that the instructor asked people to attend a workshop outside of class). With online workshops requiring pre-registration, we don’t necessarily expect any bar to be completely black (all walk-ins). However, in-person workshops can accept passer-by walk-ins who didn’t pre-register or people who saw the event via any other marketing method (again, see the previous section’s chart) and just showed up without pre-registering. Zoom workshops could have other registrants also forward the Zoom link.\nThus, any method with some black has some attendance, and methods with larger amounts of black indicate relatively stronger responses. Thus, the highest response “intensity” are for class requirements, librarians emailing a departmental listserv directly (we have these permissions for at least two STEM departments to my knowledge), and people who find events by examining the OU Libraries website.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "marketing.html#marketing-implementation-details",
    "href": "marketing.html#marketing-implementation-details",
    "title": "2  Marketing",
    "section": "2.5 Marketing implementation details",
    "text": "2.5 Marketing implementation details\n\n2.5.1 Email detail level and timing\nI used registrants instead of confirmed attendees, because that felt more relevant to the emails, and it was more consistently documented. The factors that were considered here were lead time (how much time between the email and the event) and length of email (long = one that was typed by one of you, short = automated libzoom email). Email length was the deciding factor for number of registrants!\nThus, the time between registration opening and workshop did not affect attendance. As such, CMC proposed we open all workshops at the start of the semester. This change was approved by the committee in slack in Fall 2023 (2023/10/03) to be implemented for the Spring 2024 workshops. We discussed adding a second reminder for already registered participants, but only one reminder is possible using LibCal automated emails. We will now post once advertising the full schedule, and then continue doing the 3-weeks-advertising to remind people again.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Marketing</span>"
    ]
  },
  {
    "objectID": "attendance.html",
    "href": "attendance.html",
    "title": "3  Attendance",
    "section": "",
    "text": "3.1 Executive summary\nCounts of workshop attendance are only influenced by whether a workshop was presented as part of course instruction. Format (virtual, in-person, hybrid) and marketing did not change attendance counts. Even topics (Chapter 5) didn’t impact attendance counts.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Attendance</span>"
    ]
  },
  {
    "objectID": "attendance.html#per-workshop-attendance-by-format-and-request",
    "href": "attendance.html#per-workshop-attendance-by-format-and-request",
    "title": "3  Attendance",
    "section": "3.2 Per-workshop attendance by format and request",
    "text": "3.2 Per-workshop attendance by format and request\n\n3.2.1 Statistical analysis\nFor scheduled workshops, format and year impact attendance numbers in a conditional inference tree analysis. Virtual and hybrid workshops get generally higher numbers. Within in-person workshops, the most recent two years (2023-2024) have lowest numbers attending per workshop.\n\nformat (in person vs virtual vs hybrid)\ncalendar year (starts in January)\nsemester (spring, summer, or fall)\nworkshop topic\nmulti-day vs single day scheduling\n\nWhen we examine all workshops (included on-request visits to classes and on-request workshops), we add the following variables:\n\nworkshop was in a course\nrequested or not\n\nWhether a workshop was in a course (where students are presumably required to attend) was the most dramatic factor in increased attendance numbers. For workshops not in a course, virtual and hybrid workshops have the highest attendance.\n\n\n\n\n\n\n\n\n\n\n\n3.2.2 Format\nIgnoring all other factors, the workshop format was not significantly different. You can also see this with a different visual analysis using notched box plots. The overlapping “notches” here show that there is no difference between median attendance for scheduled (not on request, not in a class) workshops by format.\n\n\n\n\n\n\n\n\n\n\n\n3.2.3 Workshop attendance over time\nThe median number of people at each scheduled workshop has declined slightly per calendar year from 2021-2024. Workshop attendance at courses is higher, presumably because most classes have to reach a certain enrollment to “make”.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Attendance</span>"
    ]
  },
  {
    "objectID": "attendance.html#total-people-reached",
    "href": "attendance.html#total-people-reached",
    "title": "3  Attendance",
    "section": "3.3 Total people reached",
    "text": "3.3 Total people reached\nThe total number of people reached has no strong trends since 2021.\n\n\n# A tibble: 3 × 8\n  Is.Course       `2018` `2019` `2020` `2021` `2022` `2023` `2024`\n  &lt;chr&gt;            &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;\n1 Not a course       190    496    128    257    311    293    188\n2 Within a course      8    134    162     39    205    233    201\n3 Total              198    630    290    296    516    526    389\n\n\nThe proportion of total people reached each calendar year in courses peaked in 2020, declined, and then has increased each calendar year since 2021.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Attendance</span>"
    ]
  },
  {
    "objectID": "satisfaction.html",
    "href": "satisfaction.html",
    "title": "4  Feedback",
    "section": "",
    "text": "4.1 Executive summary\nFeedback data show no difference in perception of workshop value by learners among formats (in person, hybrid, or virtual). Qualitative (word-cloud illustrations) feedback are generally positive.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Feedback</span>"
    ]
  },
  {
    "objectID": "satisfaction.html#quantitative-questions",
    "href": "satisfaction.html#quantitative-questions",
    "title": "4  Feedback",
    "section": "4.2 Quantitative questions",
    "text": "4.2 Quantitative questions\nFor each question, we examine statistically and graphically (if differences were statistically significant) the rankings divided by instruction format (DSI request 2023/07), request/not, and course/outreach variables. In the future, we may check rankings vs length of course in hours.",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Feedback</span>"
    ]
  },
  {
    "objectID": "satisfaction.html#qualitative-feedback-wordcloud-code",
    "href": "satisfaction.html#qualitative-feedback-wordcloud-code",
    "title": "4  Feedback",
    "section": "5.1 Qualitative feedback (Wordcloud code)",
    "text": "5.1 Qualitative feedback (Wordcloud code)\n\n5.1.1 “What did you like about the workshop?”\n\n\n5.1.2 “What about the workshop needed improvement?”\n\n\n5.1.3 “What other workshop topics would interest you?”\nWe can examine this wordcloud to see if we need to advertise existing workshops more in addition to having ideas about new ones.\n\n\n5.1.4 “Any other comments?”",
    "crumbs": [
      "Overall analysis",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Feedback</span>"
    ]
  },
  {
    "objectID": "topics.html",
    "href": "topics.html",
    "title": "5  Topics",
    "section": "",
    "text": "5.1 Data sources\nWe use only scheduled workshops (i.e., not in a course, not on request outside of a course) in these analyses as it has a statistically significant impact on attendance (Chapter 3). We include only workshops with more than four sessions (two years).",
    "crumbs": [
      "Topics",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Topics</span>"
    ]
  },
  {
    "objectID": "VIZ101.html",
    "href": "VIZ101.html",
    "title": "6  Concepts of Data-Driven Visualization",
    "section": "",
    "text": "6.1 Descriptive numbers\nHow many times offered per semester, per year. Number of different instructors.",
    "crumbs": [
      "Topics",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Concepts of Data-Driven Visualization</span>"
    ]
  },
  {
    "objectID": "VIZ101.html#attendance",
    "href": "VIZ101.html#attendance",
    "title": "6  Concepts of Data-Driven Visualization",
    "section": "6.2 Attendance",
    "text": "6.2 Attendance\n\n6.2.1 Over time\n\n\n6.2.2 By semester",
    "crumbs": [
      "Topics",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Concepts of Data-Driven Visualization</span>"
    ]
  },
  {
    "objectID": "VIZ101.html#marketing",
    "href": "VIZ101.html#marketing",
    "title": "6  Concepts of Data-Driven Visualization",
    "section": "6.3 Marketing",
    "text": "6.3 Marketing\n\n6.3.1 Over time\n\n\n6.3.2 By semester",
    "crumbs": [
      "Topics",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Concepts of Data-Driven Visualization</span>"
    ]
  },
  {
    "objectID": "VIZ101.html#satisfaction",
    "href": "VIZ101.html#satisfaction",
    "title": "6  Concepts of Data-Driven Visualization",
    "section": "6.4 Satisfaction",
    "text": "6.4 Satisfaction\n\n6.4.1 Over time\n\n\n6.4.2 By semester",
    "crumbs": [
      "Topics",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Concepts of Data-Driven Visualization</span>"
    ]
  },
  {
    "objectID": "technical_background.html",
    "href": "technical_background.html",
    "title": "Technical details",
    "section": "",
    "text": "Data sources and processing\nAre available in Data_munging.R",
    "crumbs": [
      "Technical details"
    ]
  },
  {
    "objectID": "technical_background.html#book-info",
    "href": "technical_background.html#book-info",
    "title": "Technical details",
    "section": "Book info",
    "text": "Book info\nThis document was created are using the quarto package (R-quarto?) to format this book.",
    "crumbs": [
      "Technical details"
    ]
  },
  {
    "objectID": "topic_details.html",
    "href": "topic_details.html",
    "title": "Topics",
    "section": "",
    "text": "These reports are created on request by the instructor for each workshop. Contact Claire or Brianna if you want one for your workshop.",
    "crumbs": [
      "Topics"
    ]
  },
  {
    "objectID": "overall_analysis.html",
    "href": "overall_analysis.html",
    "title": "Overall analysis",
    "section": "",
    "text": "Raw data sources\nThis consists of four datasets. - Registration numbers (pre-workshop interest) from LibCal - Downloaded per calendar then concatenated (?) - Registered &lt;- read.csv(“raw_data/processed_Registered.csv”) - Attendance from LibInsights for Course-integrated instruction - How to get this data via download from “Course Integrated Library Instruction” - Method 1 - Filter by Custom Date Range (July 1, 2018, to present) - Add Additional Report Filter “Name of Workshop” “Is Not” “Null”, then click “Add this filter”. - Click “generate report”. - Method 2 - Use saved filter “Workshop Filters (CMC)” - Method 2 - Use saved filter “Workshops in Courses (CMC)” - After either method, click “Reports” tab and then green button “Export Data to CSV” - Save the file in OSF as /raw_data/attendance_courses.csv - Attendance from LibInsights for Outreach - How to get this data via download from “Outreach and Programming Form Analysis” - Method 1 - Filter by Custom Date Range (July 1, 2018, to present) - Add Additional Report Filter “Type of Outreach” “Is” “Workshop”, then click “Add this filter”. - Click “generate report”. - Method 2 - Use saved filter “Workshop Filters (CMC)” - After either method, click “Reports” tab and then green button “Export Data to CSV” - Save the file in OSF as /raw_data/attendance_outreach.csv - Post-workshop surveys (feedback and satisfaction) from LibWizard - postworkshopsurveys_named &lt;- read.csv(“raw_data/processed_postworkshopsurveys_named.csv”)",
    "crumbs": [
      "Overall analysis"
    ]
  },
  {
    "objectID": "overall_analysis.html#data-download-from-osf",
    "href": "overall_analysis.html#data-download-from-osf",
    "title": "Overall analysis",
    "section": "Data download from OSF",
    "text": "Data download from OSF\n\n# Data for this report are gathered from three sources: pre-registration questionnaire when people register, attendance numbers entered by workshop instructors in LibInsights, and post-workshop surveys.  Registration numbers include learner names and emails and so all three datasets are kept on a private OSF repository and must be downloaded there.  Do not include these in github.\n\n###########\n# Load data from OSF\n###########\n\n# https://www.statology.org/r-check-if-file-exists/\n\n# Authenticate\n# Your OSF PAT should be in .REnviron file following these instructions:\n# https://docs.ropensci.org/osfr/reference/osf_auth.html\n\nif(file.exists(\"raw_data/README.md\")){\n  print(\"OSF data already downloaded.\")\n} else {\n  print(\"Download it!\")\n\nlibrary(osfr)\n\n# ## Retrieve project\nosf_node &lt;- osf_retrieve_node(\"qjkvf\")\n\n## List files in project\nosf_files &lt;- osf_ls_files(osf_node)\n\n## Download the files\nosf_download(x = osf_files,\n              path = NULL, #default save to local working directory\n              recurse = TRUE, #download all nested files\n              conflicts = \"overwrite\", #OSF is the canonical version\n              progress = TRUE #show progress bar\n )\n}\n\n[1] \"OSF data already downloaded.\"",
    "crumbs": [
      "Overall analysis"
    ]
  },
  {
    "objectID": "overall_analysis.html#data-processing",
    "href": "overall_analysis.html#data-processing",
    "title": "Overall analysis",
    "section": "Data processing",
    "text": "Data processing\nTitles have varied over time with marketing experiments, typos, and accidental changes. This code assigns a standardized code between each topic.\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.4.1\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\ntopics_complete_variations &lt;- read.csv(\"./workshop_metadata.csv\")\n\n# remove any accidental duplicates of name variations (otherwise will create a many-to-many join below in next step)\ntopics_complete_variations_cleaned &lt;-topics_complete_variations %&gt;%\n  dplyr::distinct(WorkshopNameVariations, WorkshopCode)\n\n# Must attach standard titles to all three datasets (registrations, attendance, and post-workshop surveys) to allow joining the three based on topic and date.\n\nThe four raw datasets are combined and cleaned into three working datasets.\n\nRegistration numbers\nAttendance\n\nCourse and Outreach datasets are each given a column for Is.Course (Y = Course, N = Outreach) before being combined.\n\n\n\nlibrary(lubridate)\n\nWarning: package 'lubridate' was built under R version 4.4.1\n\n\n\nAttaching package: 'lubridate'\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n###########\n# Attendance data is created by combining Course Instruction attendance data from LibInsights and Outreach Instruction attendance data from LibInsights.  It can be filtered by columns such as date, year, month, instructor, and workshop topic.\n###########\n\n# Outreach\nattendance_outreach &lt;- read.csv(\"raw_data/attendance_outreach.csv\",\n                                header=TRUE,\n                                stringsAsFactors=FALSE)\nattendance_outreach$Is.Course &lt;- \"Not a course\"\nattendance_outreach$Requested.[is.na(attendance_outreach$Requested.)] &lt;- \"Unknown\"\nattendance_outreach$Requested.[attendance_outreach$Requested.==\"\"] &lt;- \"Unknown\"\n\n# Courses\nattendance_courses &lt;- read.csv(\"raw_data/attendance_courses.csv\",\n                                header=TRUE,\n                                stringsAsFactors=FALSE)\nattendance_courses$Is.Course &lt;- \"Within a course\"\nattendance_courses$Requested. &lt;- \"Yes\"\nattendance_courses$Total.Attendees &lt;- attendance_courses$Total.Attendance\n\n\n###########\n# We clean dates out by weekday, year, month, day, and times for later analysis and data subsetting.\n###########\n\n# Outreach\n\n# Month, day, year, hour, minute, seconds\nattendance_outreach$Event.Date.and.Time_2 &lt;- ymd_hms(attendance_outreach$Event.Date.and.Time,\n                                                    truncated = 3)\n\n\n# separate year, month, date, times\nattendance_outreach$year &lt;- year(attendance_outreach$Event.Date.and.Time_2)\nattendance_outreach$month &lt;- month(attendance_outreach$Event.Date.and.Time_2)\nattendance_outreach$day &lt;- day(attendance_outreach$Event.Date.and.Time_2)\nattendance_outreach$wday &lt;- wday(attendance_outreach$Event.Date.and.Time_2,\n                                      week_start = 1, #1 = Monday,\n                                      label = TRUE    # days of weeks as characters\n                                      )\nattendance_outreach$hour &lt;-as.numeric(\n  format(attendance_outreach$Event.Date.and.Time_2, \"%H\"))\n\nattendance_outreach$Date &lt;-\n  format.Date(attendance_outreach$Event.Date.and.Time_2, \"%m/%d/%Y\")\n\n# convert 00 hour to NA\n# attendance_outreach[attendance_outreach$hour==00, \"hour\"] &lt;- NA\n\nattendance_outreach$hour &lt;- as.numeric(attendance_outreach$hour)\n\n# Semester defined as spring (month 1-5), summer (month 6-7), fall (month 8-12)\n\nattendance_outreach$Semester[attendance_outreach$month&gt;0&\n                            attendance_outreach$month&lt;6] &lt;- \"Spring\"\nattendance_outreach$Semester[attendance_outreach$month&gt;5&\n                            attendance_outreach$month&lt;8] &lt;- \"Spring\"\nattendance_outreach$Semester[attendance_outreach$month&gt;7&\n                            attendance_outreach$month&lt;=12] &lt;- \"Spring\"\n\n\n# Courses\n# Month, day, year, hour, minute, seconds\nattendance_courses$Event.Date.and.Time_2 &lt;-\n  ymd_hms(attendance_courses$Session.Date,\n          truncated = 3)\n\n\n# separate year, month, date, times\nattendance_courses$year &lt;- year(attendance_courses$Event.Date.and.Time_2)\nattendance_courses$month &lt;- month(attendance_courses$Event.Date.and.Time_2)\nattendance_courses$day &lt;- day(attendance_courses$Event.Date.and.Time_2)\nattendance_courses$wday &lt;- wday(attendance_courses$Event.Date.and.Time_2,\n                                      week_start = 1, #1 = Monday,\n                                      label = TRUE    # days of weeks as characters\n                                      )\nattendance_courses$hour &lt;-as.numeric(\n  format(attendance_courses$Event.Date.and.Time_2, \"%H\"))\n\nattendance_courses$Date &lt;-\n  format.Date(attendance_courses$Event.Date.and.Time_2, \"%m/%d/%Y\")\n\n# convert 00 hour to NA\n# attendance_courses[attendance_courses$hour==00, \"hour\"] &lt;- NA\n\nattendance_courses$hour &lt;- as.numeric(attendance_courses$hour)\n\n# Semester defined as spring (month 1-5), summer (month 6-7), fall (month 8-12)\n\nattendance_courses$Semester[attendance_courses$month&gt;0&\n                            attendance_courses$month&lt;6] &lt;- \"Spring\"\nattendance_courses$Semester[attendance_courses$month&gt;5&\n                            attendance_courses$month&lt;8] &lt;- \"Spring\"\nattendance_courses$Semester[attendance_courses$month&gt;7&\n                            attendance_courses$month&lt;=12] &lt;- \"Spring\"\n\n\n\n###########\n# Join outreach and course datasets\n###########\n\n# using dplyr's bind_rows instead of cbind ensures all columns are kept, including those unique to each dataset\n\nattendance_named &lt;- dplyr::bind_rows(attendance_outreach,\n                                    attendance_courses)\n                                    \n\n###########\n\n## attendance\nattendance_named &lt;- left_join(attendance_named,\n                                 topics_complete_variations_cleaned,\n                                 by =  c(\"Name.of.Workshop\" = \"WorkshopNameVariations\")) %&gt;% \n  dplyr::filter(!is.na(id))\n\n\n\n\n\n###########\n# Write to file for use in qmds.\n###########\n# Attendance\nwrite.csv(attendance_named,\n          file = \"raw_data/processed_attendance_named.csv\",\n          row.names = FALSE)\n\n\nPost-workshop surveys\nDeal with all these data (attendance data are in ok now)\n\n\n###########\n# Registration data has to be imported per-room from LibCal.\n###########\n# Event registration \nRoom339 &lt;- read.csv(\"./raw_data/preworkshop/Room339_lc_events_20230105043223.csv\")\nRoomLL123 &lt;- read.csv(\"./raw_data/preworkshop/LL123_lc_events_20230105043507.csv\")\nRoomGeneral &lt;- read.csv(\"./raw_data/preworkshop/General_lc_events_20230105043258.csv\")\nRoomLearningLabClassroom &lt;- read.csv(\"./raw_data/preworkshop/LearningLabClassroom_lc_events_20230105043409.csv\")\n\n# Merge\nRegistered &lt;- rbind(Room339,\n                    RoomLL123,\n                    RoomGeneral,\n                    RoomLearningLabClassroom\n)\n\n\n\n\n###########\n# Post-workshop survey data are from a subset of learners who attended and also filled out a survey.  In a few cases we forget to administer the survey or there's not enough time, or individuals opt out even when physically present in the room.\n###########\n\n# Post-workshop surveys from libwizard only\n## Used for both feedback AND marketing\nFeedbackActuallyAttended &lt;- read.csv(\"./raw_data/postworkshop/report.csv\",\n                                     na.strings=c(\"\",\"NA\"))\n\n\nlibrary(tidyr)\n\nWarning: package 'tidyr' was built under R version 4.4.1\n\nlibrary(stringr)\n\nWarning: package 'stringr' was built under R version 4.4.1\n\nFeedbackActuallyAttended2 &lt;- FeedbackActuallyAttended %&gt;%\n  separate_longer_delim(This.workshop.was...,\n                        delim = \", ...\") %&gt;%\n  separate_wider_delim(cols = This.workshop.was...,\n                       delim = \". - \",\n                       names = c(\"This_workshop_was\",\n                                 \"Ranking\"),\n                       too_few = \"align_start\")\n\nFeedbackActuallyAttended2$This_workshop_was &lt;-\n  str_remove(FeedbackActuallyAttended2$This_workshop_was,\n             pattern = fixed(\"...\"))\n\npostworkshopsurveys_wide &lt;- FeedbackActuallyAttended2 %&gt;%\n  pivot_wider(names_from = This_workshop_was,\n              values_from = Ranking) %&gt;%\n  dplyr::select(-`NA`)\n\n\n\n#rows &lt;- as.numeric(count(postworkshopsurvey))\n\n#postworkshopsurvey &lt;- na.omit(postworkshopsurvey)\n\n\n\n\n###########\n# Changes in categories recorded over time have resulted in the need for some automated clean up code, which allows us to look at older categories if we need to, but use the updated equivalents for this report.\n###########\n\n# Creating and splitting current levels for marketing\nmarketing_current_categories &lt;- c(\"Announcement in Class by Instructor\",\n                                  \"Announcement in Class by Librarian\",\n                                  \"Non-Library Calendar or Newsletter\",\n                                  \"Another Libraries Workshop\",\n                                  \"Walk-in\",\n                                  \"Digital Signage in Non-Library Building\",\n                                  \"Digital Signage in a Library Building\",\n                                  \"Social Media - Other\",\n                                  \"Social Media - Instagram\",\n                                  \"Social Media - Facebook\",\n                                  \"Social Media - Twitter\",\n                                  \"Personal recommendation from OU Librarian\",\n                                  \"Class requirement\",\n                                  \"Departmental/program requirement\",\n                                  \"OU Libraries website\",\n                                  \"Direct Email from OU Librarian to Departmental Listserv\",\n                                  \"Direct Email from OU Libraries Workshop Listserv\",\n                                  \"Direct Email from OU Libraries (Source Unknown)\",\n                                  \"Flyer (Paper or Digital Unspecified)\",\n                                  \"Flyer (Paper or Paper Signage)\",\n                                  \"Supervisor (Forwarded email, word of mouth)\",\n                                  \"Colleagues (Forwarded email, word of mouth)\")\n\n\n\n\n## Convert old categories to equivalent new\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Email from University Libraries\"] &lt;- \"Direct Email from OU Libraries (Source Unknown)\"\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Colleagues\"] &lt;- \"Colleagues (Forwarded email, word of mouth)\"\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Supervisor\"] &lt;- \"Supervisor (Forwarded email, word of mouth)\"\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Department/Program Requirement\"] &lt;- \"Departmental/program requirement\"\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Flyer\"] &lt;- \"Flyer (Paper or Digital Unspecified)\"\nRegistered$How.did.you.hear.about.this.workshop.[Registered$How.did.you.hear.about.this.workshop.==\"Walk-in\"] &lt;- \"Other (please describe)\" #correcting that walk-in should not be a pre-registration option\n\nRegistered$ReducedCategories &lt;- Registered$How.did.you.hear.about.this.workshop.\nRegistered$ReducedCategories[!(Registered$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)] &lt;- \"Other (please describe)\"\nRegistered$OtherDescriptions[!(Registered$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)] &lt;- Registered$If.other..please.describe.[!(Registered$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)]\n\n## Convert old categories to equivalent new in feedback/post-workshop surveyd ata too.\npostworkshopsurveys_wide$How.did.you.hear.about.this.workshop.[postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.==\"Email from OU Libraries\"] &lt;- \"Direct Email from OU Libraries (Source Unknown)\"\npostworkshopsurveys_wide$How.did.you.hear.about.this.workshop.[postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.==\"Colleagues\"] &lt;- \"Colleagues (Forwarded email, word of mouth)\"\npostworkshopsurveys_wide$How.did.you.hear.about.this.workshop.[postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.==\"Supervisor\"] &lt;- \"Supervisor (Forwarded email, word of mouth)\"\npostworkshopsurveys_wide$How.did.you.hear.about.this.workshop.[postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.==\"Flyer\"] &lt;- \"Flyer (Paper or Digital Unspecified)\"\n\npostworkshopsurveys_wide$ReducedCategories &lt;- postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.\npostworkshopsurveys_wide$ReducedCategories[!(postworkshopsurveys_wide$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)] &lt;- \"Other (please describe)\"\npostworkshopsurveys_wide$OtherDescriptions[!(postworkshopsurveys_wide$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)] &lt;- postworkshopsurveys_wide$How.did.you.hear.about.this.workshop.[!(postworkshopsurveys_wide$How.did.you.hear.about.this.workshop. %in% marketing_current_categories)]\n\nWarning: Unknown or uninitialised column: `OtherDescriptions`.\n\n## registrations\nregistrations_named &lt;- left_join(Registered,\n                                 topics_complete_variations_cleaned,\n                                 by =  c(\"Title\" = \"WorkshopNameVariations\"))\n\n\n## postworkshop surveys\npostworkshopsurveys_named &lt;- left_join(postworkshopsurveys_wide,\n                                       topics_complete_variations_cleaned,\n                                       by =  c(\"What.workshop.did.you.attend.\" = \"WorkshopNameVariations\"))\n\n\n\n\n\n\n###########\n# Month, day, year, hour, minute, seconds\n###########\npostworkshopsurveys_named$Date_2 &lt;- ymd_hms(postworkshopsurveys_named$What.date.was.the.workshop.,\n                                                           truncated = 3)\n\n\n# separate year, month, date, times\npostworkshopsurveys_named$year &lt;- year(postworkshopsurveys_named$Date_2)\npostworkshopsurveys_named$month &lt;- month(postworkshopsurveys_named$Date_2)\npostworkshopsurveys_named$day &lt;- day(postworkshopsurveys_named$Date_2)\npostworkshopsurveys_named$wday &lt;- wday(postworkshopsurveys_named$Date_2,\n                                      week_start = 1, #1 = Monday,\n                                      label = TRUE    # days of weeks as characters\n                                      )\n\n# Overwrite original column with formatted date\npostworkshopsurveys_named$Date &lt;-\n  format.Date(postworkshopsurveys_named$Date_2, \"%m/%d/%Y\")\n\n\n###########\n# Ordered scales require using R levels to order categories for later graphing or analysis.\n###########\n\n#This will need to be repeated for all three \"valuable for\" questions, so the levels are ordered in the plots.\n\n# First, rename difficult columns\n# rename(df, newname = oldname)\npostworkshopsurveys_named &lt;- postworkshopsurveys_named %&gt;% \n  dplyr::rename(Valuable.for.Program = `valuable towards your program of study`, \n                Valuable.for.Teaching  = `valuable towards your teaching`,\n                Valuable.for.Career = `valuable towards your career`,\n                Using.New.Knowledge. = `Do.you.anticipate.that.this.new.knowledge.can.b...`)\n\n## Next, order the levels for all three.\npostworkshopsurveys_named$Valuable.for.Program &lt;- factor(x = postworkshopsurveys_named$Valuable.for.Program,\n                                                  levels = c(\"No answer\",\n                                                             \"Not applicable\", \n                                                             \"Strongly agree\",\n                                                             \"Agree\",\n                                                             \"Somewhat agree\",\n                                                             \"Neither agree nor disagree\",\n                                                             \"Somewhat disagree\",\n                                                             \"Disagree\",\n                                                             \"Strongly disagree\"\n                                                             \n                                                  ))\n\n\n###########\n# Finally, the tidied feedback and attendance data are combined to compare feedback with per-workshop characteristics such as format of instruction.  This is a smaller dataset as not all the workshops appear to have been entered into LibInsights, where the attendance and format data are stored.\n###########\n\njoined_post &lt;- full_join(postworkshopsurveys_named, \n                         attendance_named,\n                         by = c(\"Date\", \"WorkshopCode\"))\n\nWarning in full_join(postworkshopsurveys_named, attendance_named, by = c(\"Date\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 91 of `x` matches multiple rows in `y`.\nℹ Row 91 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n# It is necessary to join by both date and workshop code as occasionally 2 or more people will teach on the same day in different events or classes.\n# needs to be a full join because there are some courses not entered and vice versa.\n\n# Filtering by NA is necessary because not everyone has entered their workshops into LibInsights and past workshops did not use the same feedback form, resulting in no attendance or format data to associate with the feedback or vice versa.  filtering by workshop code removes non-workshop course visits.\njoined_attendance_post_clean &lt;- joined_post %&gt;%\n  dplyr::filter(!is.na(WorkshopCode))\n\n# Later data analysis will remove observations with no feedback automatically.\n\n\n###########\n# Write to files for use in qmds.\n###########\n\n\n# Satisfaction\nwrite.csv(joined_attendance_post_clean,\n          file = \"raw_data/processed_joined_attendance_post_clean.csv\",\n          row.names = FALSE)\n\n# Marketing\n\n#not sure why this one is different\nwrite.csv(postworkshopsurveys_named,\n          file = \"raw_data/processed_postworkshopsurveys_named.csv\",\n          row.names = FALSE)\n\nwrite.csv(Registered,\n          file = \"raw_data/processed_Registered.csv\",\n          row.names = FALSE)",
    "crumbs": [
      "Overall analysis"
    ]
  }
]